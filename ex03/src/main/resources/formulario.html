<html>
<head>
<meta content="text/html; charset = UTF-8" http-equiv="content-type">

<title>Controle de Estoque</title>
</head>

<script type="text/javascript">
    function addIdToPath(form_name, base_url) {
        var your_form = document.getElementById(form_name);
        var id = your_form.elements.namedItem("id").value;
        action_src = base_url + id;
        your_form.action = action_src;
    }
</script>

<script>
    function removeAnime() {
        var id = document.getElementById("form-delete").elements.namedItem("id").value;
        fetch("http://localhost:6789/anime/" + id, {
            method: "DELETE"
        }).then(response => {
            if (response.ok) {
                alert("Anime removido com sucesso!");
            } else {
                alert("Falha ao remover o anime.");
            }
        }).catch(error => {
            console.error("Erro ao enviar a solicitação:", error);
            alert("Erro ao remover o anime.");
        });
    }
</script>



<body>
    <h1>Controle de Estoque</h1>

    <!-- Inserir Produto -->
    <h2>Inserir Produto</h2>
    <form action="http://localhost:6789/anime" method="post" id="form-add">
        <p>Descrição:</p>
        <input type="text" name="descricao" placeholder="Descrição do anime"><br>
        <p>Eps:</p>
        <input type="text" name="eps" placeholder="Número de episódios"><br>
        <p>Início:</p>
        <input type="date" name="inicio"><br>
        <p>Fim:</p>
        <input type="date" name="fim"><br>
        <input type="submit" value="Cadastrar">
    </form>

<!-- Detalhar Produto -->
<h2>Detalhar Produto</h2>
<form onsubmit="addIdToPath('form-get', 'http://localhost:6789/anime/')" method="get" id="form-get">
    <input type="text" name="id" placeholder="ID do anime">
    <input type="submit" value="Consultar">
</form>

<!-- Remover Produto -->
<h2>Remover Produto</h2>
<form onsubmit="removeAnime(); return false;" id="form-delete">
    <input type="text" name="id" placeholder="ID do anime">
    <input type="submit" value="Remover">
</form>


    <!-- Listar Produtos -->
    <h2>Listar Produtos</h2>
    <form action="http://localhost:6789/anime" method="get" id="form-all">
        <input type="submit" value="Todos">
    </form>

	<style>
* {
	box-sizing: border-box;
}

body {
	background-color: white;
}

.generaltext, p {
	font-family: Arial;
	text-align: center;
}

.section--container__responsive {
	display: flex;
	flex-direction: row;
	justify-content: center;
	align-items: center;
	border-bottom: dashed;
	border-color: gray;
}

.input--down {
	display: block;
	margin: 0px auto;
	margin-bottom: 10px;
}

.input--main__style {
	background-color: #00FF00;
}

.input--remove__style {
	background-color: red;
}

.input--consult__style {
	background-color: darkblue;
}

.input--button {
	font-weight: bold;
	font-family: Arial;
	font-size: medium;
	border-color: transparent;
	display: block;
	margin: 0px auto;
	margin-bottom: 10px;
	color: white;
}

.input--register {
	display: inline;
}

.input--radio {
	display: inline;
}

input {
	display: block;
	border-radius: 7px;
	padding: 10px;
	border-style: solid;
	border-color: lightgray;
	color: black;
	padding: 10px;
	margin-bottom: 10px;
}

.p--radio__display {
	display: block;
}

form p {
	text-align: initial;
	display: inline;
	margin-left: 15px;
}

.p--nomargin {
	margin-left: 0px;
	margin-right: 10px;
}
</style>



</body>
</html>